{"ast":null,"code":"const token='9d080c9f-32ec-43d7-9e8d-be1fdad6fe1b';class Api{constructor(){this.groupId='web_es_09';this._token=token;this._url=\"https://around.nomoreparties.co/v1/\".concat(this.groupId,\"/\");}async fetchData(url,method,data){try{const result=await fetch(\"\".concat(url),{method,headers:{authorization:this._token,'Content-Type':'application/json'},body:JSON.stringify(data)});if(result.ok){return await result.json();}return await Promise.reject(\"Error: \".concat(result.status));}catch(error){throw error;}}async getUserInfo(){return await this.fetchData(\"\".concat(this._url,\"users/me\"),'GET');}async getInitialCards(resource){return await this.fetchData(\"\".concat(this._url).concat(resource),'GET');}async getUserAvatar(resource){return await this.fetchData(\"\".concat(this._url).concat(resource));}async setUserAvatar(data){return await this.fetchData(\"\".concat(this._url,\"users/me/avatar\"),'PATCH',data);}async patchUserInfo(data){return await this.fetchData(\"\".concat(this._url,\"users/me\"),'PATCH',data);}async addCard(data){return await this.fetchData(\"\".concat(this._url,\"cards\"),'POST',data);}async deleteCard(resource,card_Id){return await this.fetchData(\"\".concat(this._url).concat(resource,\"/\").concat(card_Id),'DELETE');}async dislikeCard(resource,card_Id){return await this.fetchData(\"\".concat(this._url).concat(resource,\"/\").concat(card_Id),'DELETE');}async changeLikeCardStatus(id,isLike){return await this.fetchData(\"\".concat(this._url,\"cards/likes/\").concat(id),isLike?'PUT':'DELETE');}}const api=new Api();export default api;","map":{"version":3,"names":["token","Api","constructor","groupId","_token","_url","concat","fetchData","url","method","data","result","fetch","headers","authorization","body","JSON","stringify","ok","json","Promise","reject","status","error","getUserInfo","getInitialCards","resource","getUserAvatar","setUserAvatar","patchUserInfo","addCard","deleteCard","card_Id","dislikeCard","changeLikeCardStatus","id","isLike","api"],"sources":["/Users/dvidalv/Dev/web_project_around_auth/src/utils/api.js"],"sourcesContent":["const token = '9d080c9f-32ec-43d7-9e8d-be1fdad6fe1b';\n\nclass Api {\n\tconstructor() {\n\t\tthis.groupId = 'web_es_09';\n\t\tthis._token = token;\n\t\tthis._url = `https://around.nomoreparties.co/v1/${this.groupId}/`;\n\t}\n\tasync fetchData(url, method, data) {\n\t\ttry {\n\t\t\tconst result = await fetch(`${url}`, {\n\t\t\t\tmethod,\n\t\t\t\theaders: {\n\t\t\t\t\tauthorization: this._token,\n\t\t\t\t\t'Content-Type': 'application/json',\n\t\t\t\t},\n\t\t\t\tbody: JSON.stringify(data),\n\t\t\t});\n\n\t\t\tif (result.ok) {\n\t\t\t\treturn await result.json();\n\t\t\t}\n\n\t\t\treturn await Promise.reject(`Error: ${result.status}`);\n\t\t} catch (error) {\n\t\t\tthrow error;\n\t\t}\n\t}\n\t\n\tasync getUserInfo() {\n\t\treturn await this.fetchData(`${this._url}users/me`, 'GET');\n\t}\n\t\n\tasync getInitialCards(resource) {\n\t\treturn await this.fetchData(`${this._url}${resource}`, 'GET');\n\t}\n\n\n\tasync getUserAvatar(resource) {\n\t\treturn await this.fetchData(`${this._url}${resource}`);\n\t}\n\tasync setUserAvatar(data) {\n\t\treturn await this.fetchData(`${this._url}users/me/avatar`, 'PATCH', data);\n\t}\n\n\tasync patchUserInfo(data) {\n\t\treturn await this.fetchData(`${this._url}users/me`, 'PATCH', data);\n\t}\n\tasync addCard(data) {\n\t\treturn await this.fetchData(`${this._url}cards`, 'POST', data);\n\t}\n\n\tasync deleteCard(resource, card_Id) {\n\t\treturn await this.fetchData(`${this._url}${resource}/${card_Id}`, 'DELETE');\n\t}\n\n\tasync dislikeCard(resource, card_Id) {\n\t\treturn await this.fetchData(`${this._url}${resource}/${card_Id}`, 'DELETE');\n\t}\n\tasync changeLikeCardStatus(id, isLike) {\n\t\treturn await this.fetchData(\n\t\t\t`${this._url}cards/likes/${id}`,\n\t\t\tisLike ? 'PUT' : 'DELETE'\n\t\t);\n\t}\n}\nconst api = new Api();\n\nexport default api;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}